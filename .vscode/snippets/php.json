{
	"Query Builder Model": {
		"prefix": "model",
		"description": "Crea un modelo compatible con francerz/sql-builder",
		"body": [
			"",
			"namespace $1;",
			"",
			"use Francerz\\SqlBuilder\\DatabaseManager;",
			"use Francerz\\SqlBuilder\\Query;",
			"",
			"class $2 extends AbstractModel",
			"{",
			"    public static function getQuery(array \\$params = [])",
			"    {",
			"        \\$query = Query::selectFrom([$3 => $4]);",
			"        return \\$query;",
			"    }",
			"",
			"    /**",
			"     *  @return $2[]",
			"     */",
			"    public static function getRows(array \\$params = [])",
			"    {",
			"        \\$db = DatabaseManager::connect($5);",
			"        \\$query = static::getQuery(\\$params);",
			"        \\$result = \\$db->executeSelect(\\$query);",
			"        return \\$result->toArray($2::class);",
			"    }",
			"",
			"    public static function getFirst(array \\$params = [])",
			"    {",
			"        \\$rows = static::getRows(\\$params);",
			"        return reset(\\$rows) ?: null;",
			"    }",
			"",
			"    public static function getLast(array \\$params = [])",
			"    {",
			"        \\$rows = static::getRows(\\$params);",
			"        return end(\\$rows) ?: null;",
			"    }",
			"}",
			""
		]
	}
}
